import{_ as g,c as h,o as i,w as l,a as t,Q as p,e as C,b as e,f as c,a5 as u,a6 as f,a7 as m,t as n}from"./index-D7Xk6GjO.js";import{Q as U}from"./QMarkupTable-C2kEUEae.js";import{Q as F}from"./QPage-BKNHMEr0.js";const D={name:"ImpuestosPage",data(){return{loading:!1,cufds:[]}},mounted(){this.listCUFD()},methods:{listCUFD(){this.loading=!0,this.$axios.get("impuestos/list-cufd").then(a=>{this.cufds=a.data}).catch(a=>{this.$alert.error(a.response.data.message||"Error al listar CUFD")}).finally(()=>{this.loading=!1})},generarCUI(){this.loading=!0,this.$axios.post("impuestos/generar-cui").then(a=>{this.$alert.success("CUI generado correctamente")}).catch(a=>{this.$alert.error(a.response.data.message||"Error al generar CUI")}).finally(()=>{this.loading=!1})},generarCUFD(){this.loading=!0,this.$axios.post("impuestos/generar-cufd").then(a=>{this.$alert.success("CUFD generado correctamente"),this.listCUFD()}).catch(a=>{this.$alert.error(a.response.data.message||"Error al generar CUFD")}).finally(()=>{this.loading=!1})}}},_={class:"text-right"};function x(a,r,k,y,o,d){return i(),h(F,{class:"q-pa-xs"},{default:l(()=>[t(p,{flat:"",bordered:""},{default:l(()=>[t(C,{class:"q-pa-xs"},{default:l(()=>[e("div",_,[t(c,{color:"primary",label:"Generar CUI",icon:"add","no-caps":"",onClick:d.generarCUI,loading:o.loading},null,8,["onClick","loading"]),t(c,{color:"secondary",label:"Generar CUFD",icon:"add","no-caps":"",class:"q-ml-sm",onClick:d.generarCUFD,loading:o.loading},null,8,["onClick","loading"])]),t(U,{dense:"","wrap-cells":"",flat:"",bordered:""},{default:l(()=>[r[1]||(r[1]=e("thead",null,[e("tr",null,[e("th",null,"ID"),e("th",null,"Opciones"),e("th",null,"Código Control"),e("th",null,"Fecha Vigencia"),e("th",null,"Fecha Creación")])],-1)),e("tbody",null,[(i(!0),u(f,null,m(o.cufds,s=>(i(),u("tr",{key:s.id},[e("td",null,n(s.id),1),r[0]||(r[0]=e("td",null,null,-1)),e("td",null,n(s.codigoControl),1),e("td",null,n(s.fechaVigencia),1),e("td",null,n(s.fechaCreacion),1)]))),128))])]),_:1})]),_:1})]),_:1})]),_:1})}const $=g(D,[["render",x]]);export{$ as default};
