import{Q as x}from"./QImg-CRjqfzB0.js";import{_ as Q,g as w,r as n,l as y,c as V,o as I,w as d,a as o,b as s,a1 as r,aq as g,d as b,an as k,f as v,ap as $,t as q}from"./index-D7Xk6GjO.js";import{Q as C}from"./QSpace-ncsPi7l_.js";import{Q as S}from"./QForm-BfWQ8kbk.js";import{Q as B}from"./QPage-BKNHMEr0.js";import{a as L,b as N}from"./QLayout-BO3Ir1nw.js";const P={class:"row"},z={class:"col-12 col-md-6 q-pa-lg",style:{background:"rgba(255,255,255,0.75)",height:"100vh","backdrop-filter":"blur(17px)"}},A={class:"row flex flex-center"},D={class:"col-12 text-center"},F={class:"col-12 col-md-8 text-subtitle q-pt-md"},U={class:"col-12 col-md-8 text-subtitle q-pt-md"},E={class:"col-12 col-md-8 q-pt-xs row items-center"},M={class:"col-12 col-md-8 text-subtitle q-pt-md"},R={class:"col-12 col-md-8 text-subtitle q-pt-md"},T={class:"col-12 col-md-8 text-subtitle q-pt-lg"},H={__name:"Login",setup(J){const{proxy:t}=w(),u=n(""),m=n(""),i=n(!1),p=n(!1),c=n(!1);y(()=>{});function f(){c.value=!0,t.$axios.post("/login",{username:u.value,password:m.value}).then(a=>{const l=a.data.user,e=a.data.token;t.$axios.defaults.headers.common.Authorization=`Bearer ${e}`,t.$store.isLogged=!0,t.$store.user=l,t.$store.env=a.data.datos,localStorage.setItem("tokenProvidencia",e),localStorage.setItem("user",JSON.stringify(l)),t.$alert.success("Bienvenido ",l.name),t.$router.push("/")}).catch(a=>{t.$alert.error(a.response.data.message,"Error")}).finally(()=>{c.value=!1})}return(a,l)=>(I(),V(N,{class:"bgLogin"},{default:d(()=>[o(L,null,{default:d(()=>[o(B,null,{default:d(()=>[o(S,{onSubmit:f},{default:d(()=>[s("div",P,[s("div",z,[s("div",A,[s("div",D,[o(x,{src:"logo.png",class:"q-ma-md",width:"150px"})]),l[7]||(l[7]=s("div",{class:"col-12 col-md-2"},null,-1)),l[8]||(l[8]=s("div",{class:"col-12 col-md-8 text-h6 text-bold"}," Iniciar sesión ",-1)),l[9]||(l[9]=s("div",{class:"col-12 col-md-2"},null,-1)),l[10]||(l[10]=s("div",{class:"col-12 col-md-2"},null,-1)),l[11]||(l[11]=s("div",{class:"col-12 col-md-8 text-subtitle"}," Accede al panel de Administración usando tus credenciales. ",-1)),l[12]||(l[12]=s("div",{class:"col-12 col-md-2"},null,-1)),l[13]||(l[13]=s("div",{class:"col-12 col-md-2"},null,-1)),s("div",F,[l[4]||(l[4]=r(" Nombre de usuario ")),o(g,{modelValue:u.value,"onUpdate:modelValue":l[0]||(l[0]=e=>u.value=e),outlined:"",dense:"",placeholder:"Nombre de usuario","bg-color":"white",rules:[e=>!!e||"Ingrese su nombre de usuario"]},{append:d(()=>[o(b,{name:"account_circle",size:"xs"})]),_:1},8,["modelValue","rules"])]),l[14]||(l[14]=s("div",{class:"col-12 col-md-2"},null,-1)),l[15]||(l[15]=s("div",{class:"col-12 col-md-2"},null,-1)),s("div",U,[l[5]||(l[5]=r(" Contraseña ")),o(g,{modelValue:m.value,"onUpdate:modelValue":l[2]||(l[2]=e=>m.value=e),outlined:"",dense:"",placeholder:"Contraseña",type:i.value?"text":"password",rules:[e=>!!e||"Ingrese su contraseña"]},{append:d(()=>[o(b,{name:i.value?"visibility":"visibility_off",onClick:l[1]||(l[1]=e=>i.value=!i.value),size:"xs"},null,8,["name"])]),_:1},8,["modelValue","type","rules"])]),l[16]||(l[16]=s("div",{class:"col-12 col-md-2"},null,-1)),l[17]||(l[17]=s("div",{class:"col-12 col-md-2"},null,-1)),s("div",E,[o(k,{modelValue:p.value,"onUpdate:modelValue":l[3]||(l[3]=e=>p.value=e),label:"Recuérdame",color:"primary"},null,8,["modelValue"]),o(C),o(v,{flat:"",dense:"",label:"¿Has olvidado tu contraseña?",color:"red","no-caps":"",class:"text-bold"})]),l[18]||(l[18]=s("div",{class:"col-12 col-md-2"},null,-1)),l[19]||(l[19]=s("div",{class:"col-12 col-md-2"},null,-1)),s("div",M,[o(v,{color:"primary",label:"Iniciar sesión",dense:"",class:"full-width btnLogin","no-caps":"",unelevated:"",size:"18px",loading:c.value,type:"submit"},null,8,["loading"])]),l[20]||(l[20]=s("div",{class:"col-12 col-md-2"},null,-1)),l[21]||(l[21]=s("div",{class:"col-12 col-md-2"},null,-1)),s("div",R,[l[6]||(l[6]=r(" Eres un usuario nuevo? ")),o(v,{flat:"",dense:"",label:"Regístrate",color:"black",class:"text-bold","no-caps":""})]),l[22]||(l[22]=s("div",{class:"col-12 col-md-2"},null,-1)),l[23]||(l[23]=s("div",{class:"col-12 col-md-2"},null,-1)),s("div",T,[o($),r(" Copyright © "+q(new Date().getFullYear())+" Farmacia Divina Providencia. Todos los derechos reservados. ",1)]),l[24]||(l[24]=s("div",{class:"col-12 col-md-2"},null,-1))])])])]),_:1})]),_:1})]),_:1})]),_:1}))}},X=Q(H,[["__scopeId","data-v-86f5a512"]]);export{X as default};
